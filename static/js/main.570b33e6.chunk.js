(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),c=a(6),s=a.n(c),l=(a(11),a(2)),r=(a(12),a(13),a(3)),o=(a(14),a(15),a(0));var u=function(e){var t=n.a.useState(e.isComputer?"":e.shipId?"@":""),a=Object(l.a)(t,2),i=a[0],c=a[1];function s(){e.shipId?c("X"):c(".")}return n.a.useEffect((function(){e.firedCell&&s()}),[e.firedCell]),Object(o.jsx)("div",{className:i?"."!==i&&"@"!==i?"cell cell_shot ".concat(e.isComputer?"cell_inactive":""):"cell ".concat(e.isComputer?"cell_inactive":"cell_computer-shot"):"cell",onClick:function(){s(),e.onClick(e)},children:i})};var d=function(e){var t=e.field,a=n.a.useState("^(;,;)^"),i=Object(l.a)(a,2),c=i[0],s=i[1],d=n.a.useState(t&&t.flat().filter((function(e){return 0!==e}))),m=Object(l.a)(d,2),j=m[0],f=m[1];function b(t){!function(t){0===t.shipId?(s("not today!"),e.onClick(Object(r.a)(Object(r.a)({},e),{},{isMissed:!0}))):(j.splice(j.indexOf(t.shipId),1),f(j),-1!==j.indexOf(t.shipId)?(s("yet not dead!"),e.onClick(Object(r.a)(Object(r.a)({},e),{},{isMissed:!1}))):(s("killed!"),0===j.length&&e.onClick(Object(r.a)(Object(r.a)({},e),{},{gameOver:!0})),e.onClick(Object(r.a)(Object(r.a)({},e),{},{isMissed:!1}))))}(t)}return n.a.useEffect((function(){e.firedCell&&function(a){var i=t.flat()[a];0===i?(s("not today!"),e.onClick(Object(r.a)(Object(r.a)({},e),{},{isMissed:!1}))):(j.splice(j.indexOf(i),1),f(j),-1!==j.indexOf(i)?(s("yet not dead!"),e.onClick(Object(r.a)(Object(r.a)({},e),{},{hurt:!0}))):(s("killed!"),0===j.length&&e.onClick(Object(r.a)(Object(r.a)({},e),{},{gameOver:!0})),e.onClick(Object(r.a)(Object(r.a)({},e),{},{isMissed:!0}))))}(e.firedCell)}),[e.firedCell]),Object(o.jsxs)("div",{className:"field",children:[Object(o.jsx)("h2",{className:"field__player-name",children:e.player.toUpperCase()}),Object(o.jsx)("div",{className:"computer"===e.player?e.isActivePlayer?"field__grid":"field__grid field__grid_inactive":e.isActivePlayer?"field__grid field__grid_player_computer":"field__grid field__grid_inactive",children:t.map((function(t,a){return t.map((function(t,i){return Object(o.jsx)(u,{x:i,y:a,onClick:b,shipId:t,isComputer:"computer"===e.player,firedCell:e.firedCell=="".concat(a).concat(i)},"".concat(a).concat(i))}))}))}),Object(o.jsx)("p",{className:"field__reply",children:c})]})};a(5);var m=function(e){return Object(o.jsx)("div",{className:"modal ".concat(e.isOpen&&"modal_opened"),children:Object(o.jsxs)("div",{className:"modal__container",children:[Object(o.jsx)("h2",{className:"modal__final-title",children:"game over!"}),Object(o.jsx)("p",{className:"modal__final-text",children:e.isWinner?"".concat(e.isWinner,", you win!"):"You lose :-["}),Object(o.jsx)("button",{className:"modal__restart-button",type:"button","aria-label":"Restart",onClick:e.onRestart,children:"Play again"})]})})};function j(){return[[[0,0,0,0,0,0,0,0,0,0],[1,1,1,1,0,7,0,0,0,2],[0,0,0,0,0,0,0,0,0,2],[0,0,8,0,4,4,0,0,0,2],[0,0,0,0,0,0,0,0,0,0],[0,5,0,0,0,9,0,0,0,10],[0,5,0,0,0,0,0,0,0,0],[0,0,0,0,3,3,3,0,6,6],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],[[0,9,0,0,3,0,0,0,0,0],[0,0,0,0,3,0,0,0,5,5],[0,8,0,0,3,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,7,0,0,0,0,0,4,4],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,6,0,1,0,0],[2,2,2,0,0,6,0,1,0,0],[0,0,0,0,0,0,0,1,0,0],[0,0,0,10,0,0,0,1,0,0]],[[0,0,0,0,0,10,0,0,0,0],[0,3,3,3,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,0,8],[5,5,0,0,0,2,0,0,0,0],[0,0,0,0,0,2,0,0,0,0],[0,9,0,4,0,2,0,0,7,0],[0,0,0,4,0,0,0,0,0,0],[0,0,0,0,0,0,6,6,0,0]],[[0,0,0,0,0,0,2,0,0,0],[0,6,6,0,0,0,2,0,0,0],[0,0,0,0,0,0,2,0,0,9],[7,0,0,0,0,0,0,0,0,0],[0,0,0,4,4,0,0,8,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,5,0,0,0,0,0,3,0],[0,0,5,0,0,10,0,0,3,0],[0,0,0,0,0,0,0,0,3,0],[0,1,1,1,1,0,0,0,0,0]]][Math.floor(3*Math.random())]}var f=function(e){var t=n.a.useState({computer:!0,human:!1}),a=Object(l.a)(t,2),i=a[0],c=a[1],s=n.a.useState(j()),r=Object(l.a)(s,2),u=r[0],f=r[1],b=n.a.useState(j()),O=Object(l.a)(b,2),p=O[0],_=O[1],h=n.a.useState(function(){for(var e=[],t=0;t<100;t++)e[t]=t;for(var a=e.length-1;a>0;a--){var i=Math.floor(Math.random()*(a+1)),n=[e[i],e[a]];e[a]=n[0],e[i]=n[1]}return e}()),x=Object(l.a)(h,2),v=x[0],C=x[1],N=n.a.useState(null),y=Object(l.a)(N,2),g=y[0],k=y[1],S=n.a.useState(!1),M=Object(l.a)(S,2),T=M[0],I=M[1],P=n.a.useState(!0),A=Object(l.a)(P,2),F=A[0],E=A[1];function w(){k(v.pop()),setTimeout((function(){c({computer:!0,human:!1})}),2e3)}function R(e){e.hurt?g%10<9&&v.includes(g+1)?(setTimeout((function(){return k(g+1)}),1e3),v.splice(v.indexOf(g+1),1),C(v)):g%10!==0&&v.includes(g-1)?(setTimeout((function(){return k(g-1)}),1e3),v.splice(v.indexOf(g-1),1),C(v)):g/10>1&&v.includes(g-10)?(setTimeout((function(){return k(g-10)}),1e3),v.splice(v.indexOf(g-10),1),C(v)):g/10<9&&v.includes(g+10)?(setTimeout((function(){return k(g+10)}),1e3),v.splice(v.indexOf(g+10),1),C(v)):setTimeout(w,800):(e.isMissed&&c({computer:!i.computer,human:!i.human}),e.isMissed&&setTimeout(w,800),e.gameOver&&setTimeout((function(){I(!0),E(!1)}),900))}return Object(o.jsxs)("div",{className:"main",children:[Object(o.jsxs)("div",{className:"main__title-container",children:[Object(o.jsx)("span",{className:"main__ascii-art",children:":::::::::      :::     ::::::::::: ::::::::::: :::        ::::::::::  ::::::::  :::    ::: ::::::::::: :::::::::  "}),Object(o.jsx)("span",{className:"main__ascii-art",children:":+:    :+:   :+: :+:       :+:         :+:     :+:        :+:        :+:    :+: :+:    :+:     :+:     :+:    :+: "}),Object(o.jsx)("span",{className:"main__ascii-art",children:"+:+    +:+  +:+   +:+      +:+         +:+     +:+        +:+        +:+        +:+    +:+     +:+     +:+    +:+ "}),Object(o.jsx)("span",{className:"main__ascii-art",children:"+#++:++#+  +#++:++#++:     +#+         +#+     +#+        +#++:++#   +#++:++#++ +#++:++#++     +#+     +#++:++#+  "}),Object(o.jsx)("span",{className:"main__ascii-art",children:"+#+    +#+ +#+     +#+     +#+         +#+     +#+        +#+               +#+ +#+    +#+     +#+     +#+        "}),Object(o.jsx)("span",{className:"main__ascii-art",children:"#+#    #+# #+#     #+#     #+#         #+#     #+#        #+#        #+#    #+# #+#    #+#     #+#     #+#        "}),Object(o.jsx)("span",{className:"main__ascii-art",children:"#########  ###     ###     ###         ###     ########## ##########  ########  ###    ### ########### ###        "})]}),Object(o.jsxs)("div",{className:"main__fields-container",children:[F&&Object(o.jsx)(d,{onClick:R,player:"computer",field:u,isActivePlayer:i.computer,isMissed:null}),F&&Object(o.jsx)(d,{onClick:R,player:e.playerName,field:p,isActivePlayer:i.human,firedCell:g,isMissed:null})]}),Object(o.jsx)(m,{isOpen:T,isWinner:!!i.computer&&e.playerName,onRestart:function(){I(!1),E(!0),f(j()),_(j())}})]})};var b=function(e){var t=n.a.useState(""),a=Object(l.a)(t,2),i=a[0],c=a[1];return Object(o.jsx)("div",{className:"modal ".concat(e.isOpen&&"modal_opened"),children:Object(o.jsxs)("div",{className:"modal__container",children:[Object(o.jsx)("button",{className:"modal__close-button",type:"button","aria-label":"Close",onClick:e.onClose,children:"X"}),Object(o.jsx)("h2",{className:"modal__title",children:"Enter your name"}),Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onNameSubmit(i)},className:"modal__form",noValidate:!0,children:[Object(o.jsx)("fieldset",{className:"modal__input-container",children:Object(o.jsx)("input",{type:"text",className:"modal__text",value:i,onChange:function(e){c(e.target.value)},autoFocus:!0,required:!0})}),Object(o.jsx)("button",{className:"modal__submit",type:"submit",children:"Ok"})]})]})})};var O=function(){var e=n.a.useState(!0),t=Object(l.a)(e,2),a=t[0],i=t[1],c=n.a.useState("noname"),s=Object(l.a)(c,2),r=s[0],u=s[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(f,{playerName:r}),Object(o.jsx)(b,{isOpen:a,onNameSubmit:function(e){e&&u(e),i(!1)},onClose:function(){i(!1)}})]})},p=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),i(e),n(e),c(e),s(e)}))};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root")),p()}],[[17,1,2]]]);
//# sourceMappingURL=main.570b33e6.chunk.js.map